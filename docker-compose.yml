version: '3'

networks:
  sample:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 172.16.1.0/24

services:
  client:
    image: centos:7
    tty: true
    stdin_open: true
    networks:
      sample:
        ipv4_address: 172.16.1.2
  proxy:
    build: proxy
    ports:
      - "10280:80"
    networks:
      sample:
        ipv4_address: 172.16.1.3
  web:
    build: proxy
    ports:
      - "10380:80"
    networks:
      sample:
        ipv4_address: 172.16.1.4

